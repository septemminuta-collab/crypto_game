<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Miner Pro v1.2</title>
    <!-- –û–±–æ–≤'—è–∑–∫–æ–≤—ñ SDK (–±–µ–∑ –Ω–∏—Ö –Ω—ñ—á–æ–≥–æ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ) -->
    <script src="https://telegram.org"></script>
    <script src="https://sad.adsgram.ai"></script>
    <script src="https://unpkg.com"></script>
    <style>
        :root { --main-cyan: #00d4ff; --dark-bg: #0a0a0b; --card-bg: #161618; }
        body { font-family: 'Segoe UI', Roboto, sans-serif; background: var(--dark-bg); color: #fff; text-align: center; margin: 0; padding: 20px; overflow-x: hidden; }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 0 10px; }
        .user-pill { background: rgba(0, 212, 255, 0.1); border: 1px solid var(--main-cyan); padding: 5px 15px; border-radius: 50px; font-size: 14px; font-weight: bold; color: var(--main-cyan); }
        
        .energy-card { 
            background: linear-gradient(145deg, #1c1c1e 0%, #111 100%); 
            border: 1px solid #333; 
            border-radius: 30px; 
            padding: 40px 20px; 
            margin: 20px 0; 
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }
        .energy-card::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(0, 212, 255, 0.05) 0%, transparent 70%); }

        #balance { font-size: 64px; color: var(--main-cyan); font-weight: 800; line-height: 1; text-shadow: 0 0 20px rgba(0, 212, 255, 0.4); }
        .label { color: #888; font-size: 12px; letter-spacing: 3px; margin-top: 10px; text-transform: uppercase; }

        .controls { display: flex; flex-direction: column; gap: 15px; margin-top: 30px; }
        
        .btn-main { 
            background: linear-gradient(90deg, #00d4ff, #0055ff); 
            border: none; color: white; padding: 22px; 
            border-radius: 20px; font-size: 18px; font-weight: bold; 
            cursor: pointer; transition: 0.3s; 
            box-shadow: 0 10px 25px rgba(0, 85, 255, 0.4);
        }
        .btn-main:active { transform: scale(0.97); }
        .btn-main:disabled { background: #333; box-shadow: none; opacity: 0.6; }

        .btn-wallet { background: #222; border: 1px solid #444; color: #ccc; padding: 15px; border-radius: 18px; font-size: 15px; cursor: pointer; transition: 0.3s; }
        .btn-wallet:hover { border-color: var(--main-cyan); color: #fff; }

        .info-box { text-align: left; background: var(--card-bg); border-radius: 20px; padding: 20px; margin-top: 30px; border: 1px solid #222; }
        .info-box h3 { font-size: 14px; color: var(--main-cyan); margin: 0 0 10px 0; text-transform: uppercase; letter-spacing: 1px; }
        .info-box p { font-size: 13px; color: #aaa; line-height: 1.6; margin: 0; }
        
        .footer { margin-top: 30px; font-size: 11px; color: #444; text-transform: uppercase; letter-spacing: 1px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="user-pill" id="user-name">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
        <div style="font-size: 12px; color: #555;">v1.2.0-PRO</div>
    </div>

    <div class="energy-card">
        <div id="balance">0</div>
        <div class="label">Energy Points</div>
    </div>

    <div class="controls">
        <button class="btn-main" id="adBtn" onclick="showAd()">‚ö° –ó–ê–†–Ø–î–ò–¢–ò –ï–ù–ï–†–ì–Ü–Æ (+100)</button>
        <button class="btn-wallet" onclick="connectWallet()">üíé CONNECT TON WALLET</button>
    </div>

    <div class="info-box">
        <h3>–Ø–ö –¶–ï –ü–†–ê–¶–Æ–Ñ</h3>
        <p>–ù–∞–∫–æ–ø–∏—á—É–π—Ç–µ –±–∞–ª–∏, –ø–µ—Ä–µ–≥–ª—è–¥–∞—é—á–∏ —Å–ø–æ–Ω—Å–æ—Ä—Å—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç. –ö–æ–∂–µ–Ω —É—Å–ø—ñ—à–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –¥–æ–¥–∞—î 100 –±–∞–ª—ñ–≤ –¥–æ –≤–∞—à–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è TON –¥–æ–∑–≤–æ–ª–∏—Ç—å –ø—Ä–∏–π–º–∞—Ç–∏ —É—á–∞—Å—Ç—å —É –º–∞–π–±—É—Ç–Ω—ñ—Ö –¥—Ä–æ–ø–∞—Ö.</p>
    </div>

    <p class="footer">Verified by AdsGram Network & Telegram Web Apps</p>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();

        const SERVER_URL = "https://traffic-backend-c674.onrender.com";
        const AdController = window.Adsgram.init({ blockId: "int-4537" });

        // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
            document.getElementById('user-name').innerText = tg.initDataUnsafe.user.first_name.toUpperCase();
        }

        async function showAd() {
            const btn = document.getElementById('adBtn');
            btn.disabled = true;
            btn.innerText = "–ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø...";

            try {
                const result = await AdController.show();
                if (result.done) {
                    const response = await fetch(`${SERVER_URL}/reward`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({ 
                            user_id: tg.initDataUnsafe.user.id, 
                            points: 100 
                        })
                    });
                    
                    if (response.ok) {
                        let b = document.getElementById('balance');
                        let newVal = parseInt(b.innerText) + 100;
                        b.innerText = newVal;
                        tg.HapticFeedback.notificationOccurred('success');
                    }
                }
            } catch (e) {
                tg.showAlert("–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∑–∞ –¥–µ–∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥.");
            } finally {
                btn.disabled = false;
                btn.innerText = "‚ö° –ó–ê–†–Ø–î–ò–¢–ò –ï–ù–ï–†–ì–Ü–Æ (+100)";
            }
        }

        function connectWallet() {
            tg.showConfirm("–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è TONConnect –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑ AdsGram. –ë–∞–∂–∞—î—Ç–µ –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è?", (confirmed) => {
                if(confirmed) tg.showAlert("–ú–∏ –ø–æ–≤—ñ–¥–æ–º–∏–º–æ –≤–∞—Å —á–µ—Ä–µ–∑ –±–æ—Ç!");
            });
        }
    </script>
</body>
</html>
